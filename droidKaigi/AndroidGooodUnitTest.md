# Android アプリの良いユニットテストを考える

## 良いユニットテストとは？

- そもそもなぜ test を自動化するのか
  - アプリの変更が容易な状態を保つため
    - リグレッションなどの対策
- なぜユニットテストをするのか
  - E2E のような結合度範囲が広い test では検査したい項目にたどり着かない
    - test １回が長く、FB までに時間がかかる
    - 検証したい経路に到達させることが難しい
- 良い test の条件
  - 開発者から信頼されている
  - test を保守するコストが低い
  - テスト実行までのセットアップが楽
  - 実装に問題があればリグレッションを検知できる
  - 実装に問題がないなら test がきちんとグリーンになる

## Android アプリの実行環境

- Robolectric
  - Android に依存した test が組める
  - ただしあくまで議事環境なので Instrumentation Test の方が実環境に近い
  - 動作も少し遅い
  - CI 環境では端末と接続するコストが追加される分、実行速度がさらに遅くなる。
  - test 全体の速度を上げたいのであれば PUREtest とあわせてつかうとうよい

## test ダブル

- test ダブルのメリット
  - test の決定性を挙げ、安定させる

ねむすぎ　話は聞いて覚える
